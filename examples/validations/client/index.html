<body>
    {{> demo }}
</body>

<template name="demo">
    {{#with data}}
        {{> A model=this}}
    {{/with}}
</template>

<template name="B">
    {{#withModel}}
        <input type="text" sb sb-bind="b1">
        <div sb sb-text="error_b1"></div>
        <div sb sb-text="error_g"></div>
    {{/withModel}}
</template>

<template name="A">
    {{#withModel}}
        <input type="text" sb sb-bind="a1">
        <div sb sb-text="error_a1"></div>
        <input type="text" sb sb-bind="a2">
        <div sb sb-text="error_a2"></div>
        {{#each this.a3}}
            {{> B model= this }}
        {{/each}}
        <button sb sb-click="push">push</button>
        <button sb sb-disabled="isNotValid" sb-click="save">save</button>
        <div sb sb-text="error_g"></div>
        <button sb sb-click="reset_model">reset model</button>
    {{/withModel}}
</template>